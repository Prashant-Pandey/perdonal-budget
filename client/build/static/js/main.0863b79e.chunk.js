(this.webpackJsonpKharcha=this.webpackJsonpKharcha||[]).push([[0],{155:function(e,t,a){e.exports=a(196)},164:function(e,t,a){},165:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),i=a(20),l=a(56),u=a(123),s=a(124),d=a(10);function p(e){try{var t=RegExp(e+"=[^;]+").exec(document.cookie).toString().split("=");console.log(t);var a=t[t.indexOf(e)+1];return decodeURIComponent(a)}catch(n){return!1}}function m(e){try{var t=document.cookie.toString().split(";").flatMap((function(e){return e.split("=")})),a=t.indexOf(e)+1;t[a]="gibberish;expires=Thu, 01 Jan 1970 00:00:01 GMT";for(var n=t[0],r=1;r<t.length;r++)n+=r%2==0?";"+t[r]:"="+t[r];return document.cookie=n,!0}catch(o){return!1}}function g(e,t,a){document.cookie="".concat(e,"=").concat(t,";expires=").concat(new Date(a))}var h={login:"LOGIN_USER",loginFail:"LOGIN_FAIL",loginSuccess:"LOGIN_SUCCESS",signup:"SIGNUP_USER",signupFail:"SIGNUP_SUCCESS",signupSuccess:"SIGNUP_SUCCESS",logout:"LOGOUT_USER",refresh:"REFRESH_TOKEN",refreshFail:"REFRESH_TOKEN_FAIL",decreaseTTL:"TOKEN_TIME_DECREASE",openPopup:"OPEN_POPUP",closePopup:"CLOSE_POPUP",setMessage:"SET_MESSAGE",clearMessage:"CLEAR MESSAGE",getBudgetsBetweenTwoDate:"GET_BUDGETS_BETWEEN_TWO_DATES",getBudgetsBetweenTwoDateFailed:"GET_BUDGETS_BETWEEN_TWO_DATES_FAILED",getAllBudgets:"GET_ALL_BUDGETS",getAllBudgetsFailed:"GET_ALL_BUDGETS_FAILED",createBudget:"CREATE_BUDGET",createBudgetFailed:"CREATE_BUDGET_FAILED",updateBudget:"UPDATE_BUDGET",updateBudgetFailed:"UPDATE_BUDGET_FAILED",deleteBudget:"DELETE_BUDGET",deleteBudgetFailed:"DELETE_BUDGET_FAILED",getBudgetTypes:"GET_BUDGET_TYPES",getBudgetTypesFailed:"GET_BUDGET_TYPES_FAILED",createBudgetType:"CREATE_BUDGET_TYPE",createBudgetTypeFailed:"CREATE_BUDGET_TYPE_FAILED",updateBudgetType:"UPDATE_BUDGET_TYPE",updateBudgetTypeFailed:"UPDATE_BUDGET_TYPE_FAILED",deleteBudgetType:"DELETE_BUDGET_TYPE",deleteBudgetTypeFailed:"DELETE_BUDGET_TYPE_FAILED"},f={isLoggedIn:!0,token:null,ttl:0,popup:!1,userCancelled:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.signupSuccess:case h.loginSuccess:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,ttl:n.ttl,token:n.token});case h.refresh:return console.log(n),Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,ttl:n.ttl,token:n.token,userCancelled:!1});case h.decreaseTTL:var r=e.isLoggedIn,o=e.userCancelled,c=e.ttl-1e3,i=e.token,l=e.popup;return e.ttl<=0&&(m("token"),r=!1,o=!1,c=0,i=null,l=!1),e.ttl<=3e4&&!e.userCancelled&&(l=!0),Object(d.a)(Object(d.a)({},e),{},{ttl:c,popup:l,token:i,isLoggedIn:r,userCancelled:o});case h.closePopup:return Object(d.a)(Object(d.a)({},e),{},{popup:!1,userCancelled:!0});case h.logout:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,userCancelled:!1,ttl:0});default:return p("token")?e.isLoggedIn=!0:e.isLoggedIn=!1,e}},E={message:"",error:!1,success:!1},y=a(92),v={budgets:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.getBudgetsBetweenTwoDate:case h.getAllBudgets:return Object(d.a)(Object(d.a)({},e),{},{budgets:n});case h.createBudget:return Object(d.a)(Object(d.a)({},e),{},{budgetCreated:!0,budgets:[].concat(Object(y.a)(e.budgets),[n])});case h.updateBudget:var r=e.budgets.map((function(e){return e._id===n.id?{_id:e._id,title:n.data.title||e.title,description:n.data.description||e.description,cost:n.data.cost||e.cost,date:n.data.date||e.date}:e}));return Object(d.a)(Object(d.a)({},e),{},{budgets:r});case h.deleteBudget:var o=e.budgets.filter((function(e){return e._id!==n}));return Object(d.a)(Object(d.a)({},e),{},{budgets:o});case h.getBudgetTypeSumData:var c={};return e.budgets.forEach((function(e){c[e.type]?c[e.type]+=e.cost:c[e.type]=e.cost})),Object(d.a)(Object(d.a)({},e),{},{budgetSum:c});default:return e}},O={budgetTypes:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.getBudgetTypes:return Object(d.a)(Object(d.a)({},e),{},{budgetTypes:n});case h.getBudgetTypesFailed:return Object(d.a)(Object(d.a)({},e),{},{budgetTypes:null});case h.createBudgetType:return Object(d.a)(Object(d.a)({},e),{},{budgetTypes:[].concat(Object(y.a)(e.budgetTypes),[n])});case h.createBudgetTypeFailed:return Object(d.a)(Object(d.a)({},e),{},{budgetTypeCreated:!1});case h.updateBudgetType:var r=e.budgetTypes.map((function(e){return e._id===n.id?{_id:e._id,name:n.budgetType.name||e.name,goal:n.budgetType.goal||e.goal}:e}));return Object(d.a)(Object(d.a)({},e),{},{budgetTypes:r});case h.updateBudgetFailed:return Object(d.a)(Object(d.a)({},e),{},{updateBudgetTypeFailed:!0});case h.deleteBudgetType:var o=e.budgetTypes.filter((function(e){return e._id!==n}));return Object(d.a)(Object(d.a)({},e),{},{budgetTypes:o});case h.deleteBudgetTypeFailed:return Object(d.a)(Object(d.a)({},e),{},{budgetTypeDeleteFailed:!1});default:return e}},T=Object(l.combineReducers)({auth:b,msg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=(t.type,t.payload);switch(n){case h.setMessage:var n="success",r=a.message;a.error&&(n="error",r="Server Response ".concat(a.status,": ")+r);var o={message:r};return o[n]=r,o;case h.clearMessage:return{message:""};default:return e}},budget:w,types:j}),C=(a(164),a(265)),k=a(266),P=a(269),S=a(253),B=a(270),D=a(137),A=a(128),N=a.n(A),_=a(129),L=a.n(_),I=Object(D.a)({palette:{primary:{main:N.a[500]},secondary:{main:L.a[500]}}}),F=a(24),x=a(25),R=a(32),U=a(31),G=(a(165),a(23)),z=a(28),M=a(12),V=a.n(M),W=a(21),Y=a(113).default,H=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).BACKEND||"http://35.188.111.61:3000/",K=function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r,o,c,i,l,u,s,d;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=t.service,r=t.headers,o=void 0===r?{}:r,c=t.params,i=t.body,l=t.withCredentials,u=void 0!==l&&l,e.prev=1,o["Content-Type"]="application/json",e.next=5,Y({method:a,url:H+n,params:c,data:i,headers:o,withCredentials:u});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(1),console.log("error::: ",e.t0),d={error:!0,status:400,message:e.t0.message},e.t0.response?(console.log(e.t0.response," ;;;;;; response"),d.status=e.t0.response.status,d.message=e.t0.response.data.message):e.t0.request&&(d.status=500,d.message=e.t0.request),e.abrupt("return",d);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){function e(){Object(F.a)(this,e)}return Object(x.a)(e,[{key:"login",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,"post","auth/login",a={},n={},r=t,e.next=3,K({method:"post",service:"auth/login",headers:a,params:n,body:r,withCredentials:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,"post","auth/signup",a={},n={},r=t,e.next=3,K({method:"post",service:"auth/signup",headers:a,params:n,body:r,withCredentials:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(W.a)(V.a.mark((function e(){var t,a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,"post","auth/refresh",t={Authorization:"Bearer ".concat(p("token"))},a={},n={},e.next=3,K({method:"post",service:"auth/refresh",headers:t,params:a,body:n,withCredentials:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(W.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",m("token"));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),J=function(e,t,a){e({type:a}),e({type:h.setMessage,payload:t})},Z=function(e){return function(t){return(new q).login(e).then((function(e){if(e.error)return J(t,e,h.loginFail),Promise.reject();var a=e.token;return g("token",a,e.ttl),t({type:h.loginSuccess,payload:{token:a,ttl:e.ttl}}),Promise.resolve()})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"Check internet",error:!0};return J(t,e,h.loginFail),Promise.reject()}))}},$=function(e){return function(t){return(new q).signup(e).then((function(e){if(e.err)return J(t,e,h.signupFail),Promise.reject();var a=e.token;return g("token",a,e.ttl),t({type:h.signupSuccess,payload:{token:a,ttl:e.ttl}}),Promise.resolve()})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"Check internet",error:!0};return J(t,e,h.signupFail),Promise.reject()}))}},Q=function(){return function(e){return(new q).refresh().then((function(t){if(t.err)return J(e,t,h.refreshFail),Promise.reject();var a=t.token;g("token",a,t.ttl),e({type:h.refresh,payload:{token:a,ttl:t.ttl}})})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"Check internet",error:!0};return J(e,t,h.refreshFail),Promise.reject()}))}},X=function(){return function(e){return(new q).logout().then((function(t){return e({type:h.logout}),Promise.resolve()})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"Check internet",error:!0};return J(e,t,h.refreshFail),Promise.reject()}))}},ee=function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(){return Object(F.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{style:{color:"#ffffff",fontFamily:"cursive",padding:"0px 10px"}},"Timer: ",this.props.ttl)}}]),a}(r.a.Component),te=Object(i.b)((function(e){return{ttl:e.auth.ttl}}))(ee),ae=function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).logout=function(){return e.props.logout(),r.a.createElement(G.a,{to:"/"})},e}return Object(x.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#main-container",className:"skip-to-main-content"},"Skip to main content"),r.a.createElement("nav",{className:"menu",role:"navigation","aria-label":"Main menu"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(te,null)),r.a.createElement("li",null,r.a.createElement(z.b,{to:"/",title:"Budget App Home"},"Home")),r.a.createElement("li",null,r.a.createElement(z.b,{to:"/about",title:"About Budget App"},"About")),!this.props.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(z.b,{to:"/login",title:"Login"},"Login")),!this.props.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(z.b,{to:"/signup",title:"Signup"},"Signup")),this.props.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(z.b,{to:"/dashboard",title:"Dashboard"},"Dashboard")),this.props.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(z.b,{to:"/settings",title:"Settings"},"Settings")),this.props.isLoggedIn&&r.a.createElement("li",null,r.a.createElement("button",{className:"logoutButton",title:"Login",onClick:function(t){return t.preventDefault(),e.logout(),!1}},"Logout")))))}}]),a}(n.Component);var ne=Object(i.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,ttl:e.auth.ttl}}),(function(e){return{logout:function(){e(X())}}}))(ae),re=(a(185),function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(e){return Object(F.a)(this,a),t.call(this,e)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"hero",itemScope:!0,itemType:"https://schema.org/Product",role:"heading"},r.a.createElement("h1",{itemProp:"name"},r.a.createElement(z.b,{to:"/"},"Gain Total Control of Your Money")),r.a.createElement("h2",{itemProp:"description"},"Stop living paycheck-to-paycheck, get out of debt, and save more money."))}}]),a}(n.Component)),oe=(a(186),function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={budgets:[]},n}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"HomePage"},r.a.createElement("section",{className:"homePageSection1"},r.a.createElement("h1",null,"The Budgeting App That Changes Lives"),r.a.createElement("p",null,"Clich\xe9 and over-dramatic? Normally, we might agree with you, but this is the kind of feedback we hear from our customers every day.")),r.a.createElement("section",{className:"homePageSection2"},r.a.createElement("h1",null,"You Need A Budget is different from anything you\u2019ve tried before."),r.a.createElement("p",null,"We won\u2019t promise you it will be effortless. We aren\u2019t interested in helping you \u201ctrick\u201d yourself into saving. We will never try to dictate how or where you should spend your money. Instead, YNAB will teach you how to prioritize and plan, so you have money for the things that are most important to you\u2014whatever they are.")))}}]),a}(n.Component)),ce=(a(187),function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(e){return Object(F.a)(this,a),t.call(this,e)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"bottom"},r.a.createElement("div",{className:"center","aria-label":"Copyright"},"All rights reserved \xa9 Prashant Pandey"))}}]),a}(n.Component)),ie=(a(188),a(189),function(){return r.a.createElement("div",{className:"AboutPage",role:"presentation"},r.a.createElement("div",{className:"background-cover"}),r.a.createElement("div",{className:"diagonal-line"}),r.a.createElement("div",{className:"page-area"},r.a.createElement("div",{className:"page-col"},r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Stay on track"),r.a.createElement("p",{itemProp:"value"},"Do you know where you are spending your money? If you really stop to track it down, you would get surprised! Proper budget management depends on real data... and this app will help you with that!")),r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Results"),r.a.createElement("p",{itemProp:"value"},"People who stick to a financial plan, budgeting every expense, get out of debt faster! Also, they to live happier lives... since they expend without guilt or fear... because they know it is all good and accounted for.")),r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Stay on track"),r.a.createElement("p",{itemProp:"value"},"Do you know where you are spending your money? If you really stop to track it down, you would get surprised! Proper budget management depends on real data... and this app will help you with that!"))),r.a.createElement("div",{className:"page-col"},r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Alerts"),r.a.createElement("p",{itemProp:"value"},"What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.")),r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Free"),r.a.createElement("p",{itemProp:"value"},"This app is free!!! And you are the only one holding your data!")),r.a.createElement("article",{className:"text-box",itemProp:"additionalProperty",itemScope:!0,itemType:"https://schema.org/PropertyValue"},r.a.createElement("h1",{itemProp:"name"},"Alerts"),r.a.createElement("p",{itemProp:"value"},"What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.")))))}),le=a(84),ue=a(273),se=a(258),de=a(259),pe=(a(190),function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).setLoginError=function(e){e&&(n.setState({isEmailError:!0,emailError:"Please check your email"}),n.setState({isPasswordError:!0,passwordError:"Please validate your password"}))},n.state={isEmailError:!1,isPasswordError:!1,loginSuccess:!1,showError:!1,emailError:"",passwordError:""},n.login=n.login.bind(Object(le.a)(n)),n}return Object(x.a)(a,[{key:"login",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n=this;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=(a={email:t.target.email.value,password:t.target.password.value}).email&&a.email&&""!=a.password&&a.password){e.next=3;break}return e.abrupt("return",this.setLoginError(!0));case 3:this.props.dispatch(Z(a)).then((function(){n.setState({loginSuccess:!0})})).catch((function(){n.setLoginError(!0),n.setState(Object(d.a)(Object(d.a)({},n.state),{},{showError:!0}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.loginSuccess)return r.a.createElement(G.a,{to:"/dashboard"});var t=this.props.message;return r.a.createElement("div",{className:"LoginPage"},r.a.createElement(P.a,{open:this.state.showError,autoHideDuration:600},r.a.createElement(k.a,{elevation:10,autohideduration:6e3,severity:"error"},r.a.createElement("div",null,t,r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){e.setState({showError:!1})}},r.a.createElement(B.a,{fontSize:"small"}))))),r.a.createElement("form",{id:"login-form",onSubmit:function(){var t=Object(W.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.login(a);case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),noValidate:!0,autoComplete:"off"},r.a.createElement(ue.a,{error:this.state.isEmailError,type:"text",label:"Email",name:"email",helperText:this.state.emailError,required:!0}),r.a.createElement(ue.a,{error:this.state.isPasswordError,label:"Password",type:"password",name:"password",required:!0,helperText:this.state.passwordError}),r.a.createElement(se.a,{type:"submit",variant:"contained",color:"primary"}," Login ")),r.a.createElement("div",{className:"other-login-options"},r.a.createElement(de.a,{component:z.b,to:"/signup"},"No account yet? Signup here"),r.a.createElement(de.a,{component:z.b,to:"/forgot-passsword"},"Forgot Password?")))}}]),a}(n.Component)),me=Object(i.b)((function(e,t){return{isLoggedIn:e.auth.isLoggedIn,message:e.msg.message}}))(pe),ge=a(130),he=(a(191),function(e){Object(R.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).signup=function(){var e=Object(W.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(a={firstName:t.target.fName.value,lastName:t.target.lName.value,email:t.target.email.value,password:t.target.password.value,phone:t.target.phone.value}).firstName&&""!==a.lastName&&""!==a.email&&""!==a.password&&!a.phone.includes("_")){e.next=5;break}return n.setState({fNameError:""===a.firstName,lNameError:""===a.lastName,emailError:""===a.email,passwordError:""===a.password,phoneError:a.phone.includes("_")}),e.abrupt("return");case 5:n.props.dispatch($(a)).then((function(){n.setState({loginSuccess:!0})})).catch((function(){n.setLoginError(!0),n.setState(Object(d.a)(Object(d.a)({},n.state),{},{showError:!0}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loginSuccess:!1,isSignupError:!1,signupError:"",fNameError:!1,lNameError:!1,emailError:!1,passwordError:!1,phoneError:!1},n}return Object(x.a)(a,[{key:"render",value:function(){var e=this;if(this.state.loginSuccess)return r.a.createElement(G.a,{to:"/dashboard"});this.props.message;return r.a.createElement("div",{className:"SignupPage"},r.a.createElement(P.a,{open:this.state.showError,autoHideDuration:600},r.a.createElement(k.a,{elevation:10,autohideduration:6e3,severity:"error"},r.a.createElement("div",null,"message",r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){e.setState({showError:!1})}},r.a.createElement(B.a,{fontSize:"small"}))))),r.a.createElement("form",{id:"signup-form",onSubmit:function(){var t=Object(W.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.signup(a);case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),noValidate:!0,autoComplete:"on"},r.a.createElement(ue.a,{error:this.state.fNameError,type:"text",label:"First Name",name:"fName"}),r.a.createElement(ue.a,{error:this.state.lNameError,type:"text",label:"Last Name",name:"lName"}),r.a.createElement(ue.a,{error:this.state.emailError,type:"email",label:"Email",name:"email"}),r.a.createElement(ue.a,{error:this.state.passwordError,label:"Password",type:"password",name:"password"}),r.a.createElement(ge.a,{error:this.state.phoneError,name:"phone",customInput:ue.a,label:"Phone Number",format:"+1 (###) ###-####",allowEmptyFormatting:!0,mask:"_"}),r.a.createElement(se.a,{type:"submit",variant:"contained",color:"primary"}," Sign-up ")),r.a.createElement("div",{className:"other-login-options"},r.a.createElement(de.a,{component:z.b,to:"/login"},"Already have account? Login here")))}}]),a}(n.Component)),fe=Object(i.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.msg.message}}))(he),be=a(22),Ee=a(140),ye=a(9),ve=a(45),we=(a(113),function(){function e(){Object(F.a)(this,e)}return Object(x.a)(e,[{key:"getAllBudgets",value:function(){var e=Object(W.a)(V.a.mark((function e(){var t,a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"get",t={},a={},n={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"get",service:"budget",headers:n,params:t,body:a,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllBudgetBetweenDates",value:function(){var e=Object(W.a)(V.a.mark((function e(t,a){var n,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"get",n={startDate:t,endDate:a},r={},o={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"get",service:"budget",headers:o,params:n,body:r,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createBudgets",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"post",a={},n=t,r={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"post",service:"budget",headers:r,params:a,body:n,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBudget",value:function(){var e=Object(W.a)(V.a.mark((function e(t,a){var n,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"put",n={},r=a,o={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"put",service:"budget"+"/".concat(t),headers:o,params:n,body:r,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteBudgets",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"delete",a={},n={},r={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"delete",service:"budget"+"/".concat(t),headers:r,params:a,body:n,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Oe=function(e,t,a){e({type:a}),e({type:h.setMessage,payload:t})},je=a(260),Te=a(268),Ce=a(261),ke=a(262),Pe=a(263),Se=a(256),Be=a(271),De=a(267),Ae=Object(i.b)((function(e){return{types:e.types.budgetTypes}}))((function(e){var t=Object(n.useState)(""),a=Object(be.a)(t,2),o=a[0],c=(a[1],Object(n.useState)("")),i=Object(be.a)(c,2),l=i[0],u=(i[1],Object(n.useState)("")),s=Object(be.a)(u,2),d=(s[0],s[1],Object(n.useState)("")),p=Object(be.a)(d,2),m=p[0],g=p[1],h=function(){var t=Object(W.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onApplyChanges();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(t){return t.preventDefault(),e.onCancelChanges(),!1},b=e.types.map((function(e){return r.a.createElement(je.a,{key:e.name+"".concat(e.goal),value:e.name},e.name)}));return e.open&&0===e.types.length?r.a.createElement(Te.a,{open:e.open,onClose:f,"aria-labelledby":"Create Transaction type before adding any transaction","aria-describedby":"Please add type of transactions by going to settings"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Create Types before adding transactions"),r.a.createElement(ke.a,{className:"addOrChangeElem"},r.a.createElement("p",null,"Please add type of transactions by going to ",r.a.createElement(z.b,{title:"Go to settings",to:"/settings"},"settings"))),r.a.createElement(Pe.a,null,r.a.createElement(se.a,{type:"submit",variant:"contained",color:"secondary",onClick:f},"OKAY"))):r.a.createElement(Te.a,{open:e.open,onClose:f,"aria-labelledby":"Input Transaction Data","aria-describedby":"Add or update the transaction data"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Enter Transaction"),r.a.createElement(ke.a,{className:"addOrChangeElem"},r.a.createElement(ue.a,{error:""!==o,type:"text",label:"Title",defaultValue:e.row.title,name:"title",onChange:function(t){e.onChange(t)}}),r.a.createElement(ue.a,{error:""!==l,type:"text",label:"Description",name:"description",defaultValue:e.row.description,onChange:function(t){e.onChange(t)}}),r.a.createElement(Se.a,null,r.a.createElement(Be.a,{id:"typeLabel"},"Type"),r.a.createElement(De.a,{labelId:"typeLabel",id:"type",name:"type",defaultValue:e.row.type,onChange:function(t){e.onChange(t)}},b)),r.a.createElement(ue.a,{error:""!==m,helperText:m,type:"number",label:"Cost",name:"cost",defaultValue:e.row.cost,onChange:function(t){var a=t.target.value;""!==a&&"".concat(a).match(/[A-Z,a-z]/)?g("Please enter valid number."):(e.onChange(t),g(""))}}),r.a.createElement(ue.a,{id:"date",name:"date",label:"Start Date",type:"date",defaultValue:e.row.date,InputLabelProps:{shrink:!0},onChange:function(t){e.onChange(t)}})),r.a.createElement(Pe.a,null,r.a.createElement(se.a,{type:"submit",variant:"contained",color:"secondary",onClick:f},"Cancel"),r.a.createElement(se.a,{type:"submit",variant:"contained",color:"primary",onClick:h},e.row.title?"Save":"Add")))})),Ne=a(1),_e=[{name:"TableEditColumn"}],Le=function(e){var t=e.EditComponent;return r.a.createElement(Ne.g,{dependencies:_e},r.a.createElement(Ne.k,{name:"editRow"},r.a.createElement(Ne.l,null,(function(e,a){var n,o,c=e.rows,i=e.getRowId,l=e.addedRows,u=e.editingRowIds,s=e.createRowChange,p=e.rowChanges,m=a.changeRow,g=a.changeAddedRow,h=a.commitChangedRows,f=a.commitAddedRows,b=a.stopEditRows,E=a.cancelAddedRows,y=a.cancelChangedRows,v=l.length>0;if(v)n=l[o=0];else{var w=Object(be.a)(u,1);o=w[0];var O=c.filter((function(e){return i(e)===o}))[0];n=Object(d.a)(Object(d.a)({},O),p[o])}var j=v?[0]:u,T=u.length>0||v;return t?r.a.createElement(t,{open:T,row:n,onChange:function(e){var t=e.target,a=t.name,r=t.value,c={rowId:o,change:s(n,r,a)};v?g(c):m(c)},onApplyChanges:function(){v?f({rowIds:j}):(b({rowIds:j}),h({rowIds:j}))},onCancelChanges:function(){v?E({rowIds:j}):(b({rowIds:j}),y({rowIds:j}))}}):r.a.createElement("span",null,"No component found")}))),r.a.createElement(Ne.k,{name:"root"},r.a.createElement(Ne.m,null),r.a.createElement(Ne.m,{name:"editRow"})))},Ie=function(e){return{type:h.setMessage,payload:e}};a(193);var Fe=Object(i.b)((function(e){return{budgets:e.budget.budgets}}))((function(e){var t=Object(n.useState)(!1),a=Object(be.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(be.a)(i,2),u=l[0],s=l[1],p=Object(n.useState)(""),m=Object(be.a)(p,2),g=m[0],f=m[1],b=function(e){return!e||"string"!==typeof e||""===e||""===e.trim()},E=function(e){return!e||"number"!==typeof+e||e<0},y=function(e){var t=new Date(e);return!t||"Invalid Date"==t||t===new Date(0,0,0,0)},v=function(t,a){"error"===t&&e.dispatch(Ie({message:a,error:!0})),"success"===t&&e.dispatch(Ie({message:a,success:!0}))},w=Object(n.useState)([{columnName:"title",createRowChange:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{title:t})}},{columnName:"describe",createRowChange:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{describe:t})}},{columnName:"cost",createRowChange:function(t,a){return isNaN(parseInt(a))?(e.dispatch(Ie({error:!0,message:"Cost other than number not allowed"})),Object(d.a)({},t)):Object(d.a)(Object(d.a)({},t),{},{cost:a})}}]);return Object(be.a)(w,1)[0],r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{open:o,autoHideDuration:600},r.a.createElement(k.a,{elevation:10,autohideduration:6e3,severity:""!==u?"error":"success"},r.a.createElement("div",null,""!==u?u:g,r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){c(!1),s(""),f("")}},r.a.createElement(B.a,{fontSize:"small"}))))),r.a.createElement(Ee.a,null,r.a.createElement(ve.a,{rows:e.budgets,columns:[{name:"title",title:"Title"},{name:"description",title:"Description"},{name:"type",title:"Type"},{name:"cost",title:"Cost"},{name:"date",title:"Date"}],getRowId:function(e){return e._id}},r.a.createElement(ye.c,{onCommitChanges:function(t){var a,n,r=t.added,o=t.changed,c=t.deleted;if(console.log(r,o,c),r){var i=r[0];if(console.log(i),b(i.title)||E(i.cost)||y(i.date))return v("error","Please validate inputs"),!1;e.dispatch((a=i,function(e){return(new we).createBudgets(a).then((function(t){return!t||t.error?(Oe(e,t,h.createBudgetFailed),Promise.reject()):(e({type:h.createBudget,payload:t}),Promise.resolve())})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"connection error",error:!0};return Oe(e,t.message,h.createBudgetFailed),Promise.reject()}))})).then((function(){v("success","Added Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";v("error","".concat(e))}))}if(o){var l=Object.keys(o)[0],u=o[l];if(!u)return!1;if(u.title&&b(u.title))return v("error","Please Validate Title"),!1;if(u.description&&b(u.description))return v("error","Please Validate Description"),!1;if(u.cost&&E(u.cost))return v("error","Please Validate Cost"),!1;if(u.date&&y(u.date))return v("error","Please Validate the date"),!1;e.dispatch(function(e,t){return function(a){return(new we).updateBudget(e,t).then((function(n){return!n||n.error?(Oe(a,n,h.updateBudgetFailed),Promise.reject()):(a({type:h.updateBudget,payload:{id:e,data:t}}),Promise.resolve())})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"connection error",error:!0};return Oe(a,e.message,h.updateBudgetFailed),Promise.reject()}))}}(l,u)).then((function(){v("success","Updated Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";v("error","".concat(e))}))}c&&e.dispatch((n=c[0],function(e){return(new we).deleteBudgets(n).then((function(t){return!t||t.error?(Oe(e,t,h.deleteBudgetFailed),Promise.reject()):(e({type:h.deleteBudget,payload:n}),Promise.resolve())})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"connection error",error:!0};return Oe(e,t.message,h.deleteBudgetFailed),Promise.reject()}))})).then((function(){v("success","Deleted Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";v("error","".concat(e))}))}}),r.a.createElement(ye.k,{defaultPageSize:10}),r.a.createElement(ye.h,null),r.a.createElement(ye.m,{defaultSorting:[{columnName:"city",direction:"asc"}]}),r.a.createElement(ye.i,null),r.a.createElement(ve.c,null),r.a.createElement(ve.e,null),r.a.createElement(ve.d,{showAddCommand:!0,showEditCommand:!0,showDeleteCommand:!0}),r.a.createElement(Le,{EditComponent:Ae}),r.a.createElement(ve.b,null))))})),xe=(a(194),function(){function e(){Object(F.a)(this,e)}return Object(x.a)(e,[{key:"getAllBudgetTypes",value:function(){var e=Object(W.a)(V.a.mark((function e(){var t,a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"get",t={},a={},n={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"get",service:"budget-type",headers:n,params:t,body:a,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createBudgetType",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"post",a={},n=t,r={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"post",service:"budget-type",headers:r,params:a,body:n,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBudgetType",value:function(){var e=Object(W.a)(V.a.mark((function e(t,a){var n,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"put",n={},r=a,o={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"put",service:"budget-type"+"/".concat(t),headers:o,params:n,body:r,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteBudgetType",value:function(){var e=Object(W.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,"delete",a={},n={},r={Authorization:"Bearer ".concat(p("token"))},e.abrupt("return",K({method:"delete",service:"budget-type"+"/".concat(t),headers:r,params:a,body:n,withCredentials:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Re=function(){return function(e){return(new xe).getAllBudgetTypes().then((function(t){return t.err?(e({type:h.getBudgetTypesFailed,payload:t.err}),Promise.reject()):(e({type:h.getBudgetTypes,payload:t}),Promise.resolve())})).catch((function(t){return e({type:h.getBudgetTypesFailed,payload:t}),Promise.reject()}))}},Ue=a(34),Ge=a(5),ze=a(18),Me=function(e,t){var a=[],n={};return e.forEach((function(e){n[e.type]?n[e.type]+=e.cost:n[e.type]=e.cost})),t.forEach((function(e){a.push({goal:e.goal,spending:n[e.name],name:e.name})})),a},Ve=Object(i.b)((function(e){return{budgetTypeWiseSum:Me(e.budget.budgets,e.types.budgetTypes)}}))((function(e){var t=e.budgetTypeWiseSum;return r.a.createElement(Ee.a,null,r.a.createElement(Ue.c,{data:t},r.a.createElement(ze.b,{factory:Ge.zb}),r.a.createElement(Ue.a,null),r.a.createElement(Ue.h,null),r.a.createElement(Ue.b,{name:"Spending",valueField:"spending",argumentField:"name"}),r.a.createElement(Ue.b,{name:"Goal",valueField:"goal",argumentField:"name"}),r.a.createElement(ze.l,null),r.a.createElement(Ue.f,{text:"Spending Habits"}),r.a.createElement(Ue.d,null)))})),We=Object(i.b)((function(e){return{budgets:e.budget.budgets}}))((function(e){return r.a.createElement(Ee.a,null,r.a.createElement(Ue.c,{data:e.budgets},r.a.createElement(Ue.e,{valueField:"cost",argumentField:"title"}),r.a.createElement(ze.f,null),r.a.createElement(ze.g,null),r.a.createElement(Ue.g,null),r.a.createElement(Ue.d,null),r.a.createElement(Ue.f,{text:"Monthly Spending Chart"})))}));var Ye=Object(i.b)((function(e){return{budgetData:e.budget.budgetData,ttl:e.auth.ttl}}))((function(e){var t=!1,a=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()};return Object(n.useEffect)((function(){var t;a(new Date),a(new Date(Date.now()-2592e6));return e.dispatch((function(e){return(new we).getAllBudgets().then((function(t){return!t||t.error?(Oe(e,t,h.getAllBudgetsFailed),Promise.reject()):(e({type:h.getAllBudgets,payload:t}),Promise.resolve())})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"connection error",error:!0};return Oe(e,t.message,h.getAllBudgetsFailed),Promise.reject()}))})),e.dispatch(Re()),e.ttl>0&&(t=setInterval((function(){e.ttl<=0&&(clearTimeout(t),e.dispatch(X())),e.dispatch({type:h.decreaseTTL})}),1e3)),function(){t&&clearInterval(t)}}),[]),Object(n.useEffect)((function(){var a;return e.ttl>0?a=setInterval((function(){e.ttl<=0&&(clearTimeout(a),e.dispatch(X())),e.dispatch({type:h.decreaseTTL})}),1e3):t||(e.dispatch(Q()),t=!0),function(){a&&clearInterval(a)}})),r.a.createElement("div",{className:"DashboardPage"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("div",{className:"monthly-stats"},r.a.createElement(Ve,null),r.a.createElement(We,null)),r.a.createElement("div",{className:"transactions-area"},r.a.createElement(Fe,null)))})),He=a(50),Ke=Object(i.b)((function(e){return{types:e.types.budgetTypes}}))((function(e){var t=Object(n.useState)(""),a=Object(be.a)(t,2),o=a[0],c=(a[1],Object(n.useState)("")),i=Object(be.a)(c,2),l=i[0],u=i[1],s=function(){var t=Object(W.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onApplyChanges();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(t){return t.preventDefault(),e.onCancelChanges(),!1};return e.open?r.a.createElement(Te.a,{open:e.open,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Employee Details"),r.a.createElement(ke.a,{className:"addOrChangeElem"},r.a.createElement(ue.a,{error:""!==o,type:"text",label:"Name",defaultValue:e.row.name,name:"name",onChange:function(t){e.onChange(t)}}),r.a.createElement(ue.a,{error:""!==l,helperText:l,type:"number",label:"Goal",name:"goal",defaultValue:e.row.goal,onChange:function(t){var a=t.target.value;""!=a&&"".concat(a).match(/[A-Z,a-z]/)?u("Please enter valid number."):(e.onChange(t),u(""))}})),r.a.createElement(Pe.a,null,r.a.createElement(se.a,{type:"submit",variant:"contained",color:"secondary",onClick:d},"Cancel"),r.a.createElement(se.a,{type:"submit",variant:"contained",color:"primary",onClick:s},e.row.title?"Save":"Add"))):""}));var qe=Object(i.b)((function(e){return{budgetTypes:e.types.budgetTypes}}))((function(e){Object(n.useEffect)((function(){0===e.budgetTypes.length&&e.dispatch(Re())}),[]);var t=Object(n.useState)(!1),a=Object(be.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),l=Object(be.a)(i,2),u=l[0],s=l[1],d=Object(n.useState)(""),p=Object(be.a)(d,2),m=p[0],g=p[1],f=function(t){if(!t||!t.name)return!0;var a,n=Object(He.a)(e.budgetTypes);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(t.name===r.name)return!0}}catch(o){n.e(o)}finally{n.f()}return""===t.name||""===t.name.trim()},b=function(e){return!e||!e.goal||"number"!==typeof+e.goal},E=function(e,t){c(!0),"error"===e&&(s(t),g("")),"success"===e&&(s(""),g(t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{open:o,autoHideDuration:600},r.a.createElement(k.a,{elevation:10,autohideduration:6e3,severity:""!==u?"error":"success"},r.a.createElement("div",null,""!==u?u:m,r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){c(!1),s(""),g("")}},r.a.createElement(B.a,{fontSize:"small"}))))),r.a.createElement(Ee.a,null,r.a.createElement(ve.a,{rows:e.budgetTypes,columns:[{name:"name",title:"Name"},{name:"goal",title:"Goal"}],getRowId:function(e){return e._id}},r.a.createElement(ye.c,{onCommitChanges:function(t){var a,n,r,o,c=t.added,i=t.changed,l=t.deleted;if(c){var u=c[0];if(f(u)&&b(u))return E("error","invalid inputs"),!1;e.dispatch((a=u,function(e){return(new xe).createBudgetType(a).then((function(t){return t.err?(e({type:h.createBudgetTypeFailed,payload:t.err}),Promise.reject()):(e({type:h.createBudgetType,payload:t}),Promise.resolve())})).catch((function(t){return e({type:h.createBudgetTypeFailed,payload:t}),Promise.reject()}))})).then((function(){E("success","Added Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";E("error","".concat(e))}))}if(i){var s=Object.keys(i)[0];if(i[s].name&&f(i[s]))return E("error","Budget type already exists"),!1;if(i[s].goal&&b(i[s]))return E("error","Please input valid goal amount"),!1;e.dispatch((n=s,r=i[s],function(e){return(new xe).updateBudgetType(n,r).then((function(t){return!t&&t.err?(e({type:h.updateBudgetTypeFailed,payload:t.err}),Promise.reject()):(e({type:h.updateBudgetType,payload:{id:n,budgetType:r}}),Promise.resolve())})).catch((function(t){return e({type:h.updateBudgetTypeFailed,payload:t}),Promise.reject()}))})).then((function(){E("success","Updated Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";E("error","".concat(e))}))}l&&e.dispatch((o=l[0],function(e){return(new xe).deleteBudgetType(o).then((function(t){return t.err?(e({type:h.deleteBudgetTypeFailed,payload:t.err}),Promise.reject()):(e({type:h.deleteBudgetType,payload:o}),Promise.resolve())})).catch((function(t){return e({type:h.deleteBudgetTypeFailed,payload:t}),Promise.reject()}))})).then((function(){E("success","Deleted Successfully")})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your connection";E("error","".concat(e))}))}}),r.a.createElement(ve.c,null),r.a.createElement(ve.e,null),r.a.createElement(ve.d,{showAddCommand:!0,showEditCommand:!0,showDeleteCommand:!0}),r.a.createElement(Le,{EditComponent:Ke}))))}));a(195);var Je=Object(i.b)((function(e){return{ttl:e.auth.ttl}}))((function(e){var t=!1;return Object(n.useEffect)((function(){var t;return e.ttl>0&&(t=setInterval((function(){e.ttl<=0&&(clearTimeout(t),e.dispatch(X())),e.dispatch({type:h.decreaseTTL})}),1e3)),function(){t&&clearInterval(t)}}),[]),Object(n.useEffect)((function(){var a;return e.ttl>0?a=setInterval((function(){e.ttl<=0&&(clearTimeout(a),e.dispatch(X())),e.dispatch({type:h.decreaseTTL})}),1e3):t||(e.dispatch(Q()),t=!0),function(){a&&clearInterval(a)}})),r.a.createElement("div",{className:"SettingsPage"},r.a.createElement("h1",null,"Settings"),r.a.createElement("div",{className:"CRUDBudgetType"},r.a.createElement(qe,null)))})),Ze=a(138),$e=Object(i.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.isLoggedIn,a=e.children,n=Object(Ze.a)(e,["isLoggedIn","children"]);return r.a.createElement(G.b,Object.assign({},n,{render:function(){return t?a:r.a.createElement(G.a,{to:{pathname:"/"}})}}))})),Qe=a(264),Xe=Object(i.b)((function(e){return{open:e.auth.popup}}),(function(e){return{close:function(){e({type:h.closePopup})},refreshToken:function(){e(Q()),e({type:h.closePopup})}}}))((function(e){return r.a.createElement(Te.a,{open:e.open,onClose:e.close,"aria-labelledby":"Continue Login Session","aria-describedby":"Click Refresh to continue to log in, press cancel of leave it, it'll logout automatically due to inactivity"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Continue Login Session"),r.a.createElement(ke.a,null,r.a.createElement(Qe.a,{container:!0,spacing:3},r.a.createElement(Qe.a,{item:!0,xs:6},r.a.createElement("p",null,"Session is about to end, Do you wish to continue?")))),r.a.createElement(Pe.a,null,r.a.createElement(se.a,{onClick:e.close,color:"primary"},"Cancel"),r.a.createElement(se.a,{onClick:e.refreshToken,color:"primary"},"Continue session")))}));var et=Object(i.b)((function(e){return{message:e.msg.message,isError:e.msg.error,isSuccess:e.msg.success,token:e.auth.token}}),(function(e){return{clearMessage:function(){e({type:h.clearMessage})},refreshToken:function(){e(Q())}}}))((function(e){return r.a.createElement(z.a,null,r.a.createElement(C.a,{theme:I},r.a.createElement("header",null,r.a.createElement(ne,null)),r.a.createElement("main",{"data-test":"main-container",className:"container center",id:"main-container",role:"main"},r.a.createElement(P.a,{open:""!==e.message,autoHideDuration:600},r.a.createElement(k.a,{elevation:10,autohideduration:6e3,severity:e.isError?"error":e.isSuccess?"success":"warning"},r.a.createElement("div",null,e.message,r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:e.clearMessage},r.a.createElement(B.a,{fontSize:"small"}))))),r.a.createElement(Xe,null),r.a.createElement(G.d,null,r.a.createElement(G.b,{path:"/about"},r.a.createElement(re,null),r.a.createElement(ie,null)),r.a.createElement(G.b,{path:"/login"},r.a.createElement(me,null)),r.a.createElement(G.b,{path:"/signup"},r.a.createElement(fe,null)),r.a.createElement(G.b,{path:"/dashboard"},r.a.createElement($e,null,r.a.createElement(Ye,null))),r.a.createElement(G.b,{path:"/settings"},r.a.createElement($e,null,r.a.createElement(Je,null))),r.a.createElement(G.b,{path:"/"},r.a.createElement(re,null),r.a.createElement(oe,null)))),r.a.createElement(ce,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=Object(l.createStore)(T,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(s.a)));c.a.render(r.a.createElement(i.a,{store:tt},r.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[155,1,2]]]);
//# sourceMappingURL=main.0863b79e.chunk.js.map